(this.webpackJsonpgui=this.webpackJsonpgui||[]).push([[0],{146:function(e,t,a){e.exports=a.p+"static/media/insight.482cf301.mp3"},166:function(e,t,a){e.exports=a(472)},192:function(e,t,a){var n={"./2C.png":193,"./2C_old.png":194,"./2D.png":195,"./2D_old.png":196,"./2H.png":197,"./2H_old.png":198,"./2S.png":199,"./2S_old.png":200,"./3C.png":201,"./3C_old.png":202,"./3D.png":203,"./3D_old.png":204,"./3H.png":205,"./3H_old.png":206,"./3S.png":207,"./3S_old.png":208,"./4C.png":209,"./4C_old.png":210,"./4D.png":211,"./4D_old.png":212,"./4H.png":213,"./4H_old.png":214,"./4S.png":215,"./4S_old.png":216,"./5C.png":217,"./5C_old.png":218,"./5D.png":219,"./5D_old.png":220,"./5H.png":221,"./5H_old.png":222,"./5S.png":223,"./5S_old.png":224,"./6C.png":225,"./6C_old.png":226,"./6D.png":227,"./6D_old.png":228,"./6H.png":229,"./6H_old.png":230,"./6S.png":231,"./6S_old.png":232,"./7C.png":233,"./7C_old.png":234,"./7D.png":235,"./7D_old.png":236,"./7H.png":237,"./7H_old.png":238,"./7S.png":239,"./7S_old.png":240,"./8C.png":241,"./8C_old.png":242,"./8D.png":243,"./8D_old.png":244,"./8H.png":245,"./8H_old.png":246,"./8S.png":247,"./8S_old.png":248,"./9C.png":249,"./9C_old.png":250,"./9D.png":251,"./9D_old.png":252,"./9H.png":253,"./9H_old.png":254,"./9S.png":255,"./9S_old.png":256,"./AC.png":257,"./AC_old.png":258,"./AD.png":259,"./AD_old.png":260,"./AH.png":261,"./AH_old.png":262,"./AS.png":263,"./AS_old.png":264,"./BACK.png":265,"./JC.png":266,"./JC_old.png":267,"./JD.png":268,"./JD_old.png":269,"./JH.png":270,"./JH_old.png":271,"./JS.png":272,"./JS_old.png":273,"./KC.png":274,"./KC_old.png":275,"./KD.png":276,"./KD_old.png":277,"./KH.png":278,"./KH_old.png":279,"./KS.png":280,"./KS_old.png":281,"./QC.png":282,"./QC_old.png":283,"./QD.png":284,"./QD_old.png":285,"./QH.png":286,"./QH_old.png":287,"./QS.png":288,"./QS_old.png":289,"./TC.png":290,"./TC_old.png":291,"./TD.png":292,"./TD_old.png":293,"./TH.png":294,"./TH_old.png":295,"./TS.png":296,"./TS_old.png":297,"./extra/aces.png":298,"./extra/back.png":299,"./extra/bridge-back-blue.png":300,"./extra/bridge-back-gray.png":301,"./extra/bridge-back-green.png":302,"./extra/bridge-back-purple.png":303,"./extra/bridge-back-red.png":304,"./extra/bridge-back-yellow.png":305,"./extra/bridge-backs.png":306,"./extra/honor-clubs.png":307,"./extra/honor-diamonds.png":308,"./extra/honor-hearts.png":309,"./extra/honor-spades.png":310};function o(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id=192},311:function(e,t,a){var n={"./black.png":312,"./blue.png":313,"./green.png":314,"./red.png":315,"./white.png":316};function o(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id=311},317:function(e,t,a){var n={"./burlap.png":318,"./cardboard.png":319,"./default-light.png":320,"./default.png":321,"./fabric.png":322,"./felt.png":323,"./leather.png":324,"./noise.png":325,"./paper.png":326,"./pinstripe.png":327,"./slate.png":328,"./subtle.png":329,"./suede.png":330,"./twill.png":331};function o(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id=317},460:function(e,t,a){e.exports=a.p+"static/media/poker_chip_svg.0d4ebc37.png"},471:function(e,t,a){},472:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(6),s=a.n(r),i=a(5),l=a(7),c=a(8),p=a(9),u=a(20),m=a(36),d=a(473),h=a(40),g=a(34),f=a(15),b=a.n(f),v=function(e,t){return{type:"AUTH_SUCCESS",token:e,username:t}},S=function(e){return{type:"AUTH_FAIL",error:e}},y=function(){return localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("expirationDate"),localStorage.removeItem("avatar"),{type:"AUTH_LOGOUT"}},k=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.props.history.push("/")}},{key:"componentDidUpdate",value:function(){this.props.isAuthenticated&&this.props.history.push("/")}},{key:"handleSubmit",value:function(e){var t=e.target.username.value,a=e.target.password.value;this.props.onAuth(t,a),e.preventDefault()}},{key:"render",value:function(){var e=null;return this.props.error&&(e=o.a.createElement("p",null,this.props.error.message)),o.a.createElement("div",null,e,this.props.loading?o.a.createElement("div",null,"LOADING"):o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{className:"input",type:"text",name:"username",placeholder:"username"})," ",o.a.createElement("br",null),o.a.createElement("input",{className:"input",type:"password",name:"password",placeholder:"password"})," ",o.a.createElement("br",null),o.a.createElement("input",{className:"button",type:"submit",value:"Login"})," ",o.a.createElement("br",null)),o.a.createElement(u.b,{to:"/signup/"},"Signup")))}}]),a}(n.Component),E=Object(m.b)((function(e){return{loading:e.loading,error:e.error,isAuthenticated:null!==e.token}}),(function(e){return{onAuth:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),b.a.post("/rest-auth/login/",{username:e,password:t}).then((function(t){var n=t.data.key,o=new Date((new Date).getTime()+36e5);localStorage.setItem("token",n),localStorage.setItem("username",e),localStorage.setItem("expirationDate",o),a(v(n,e)),b.a.get("api/contact/").then((function(t){var a=t.data.filter((function(t){return t.user.username===e}))[0],n=b.a.defaults.baseURL+"/media/"+a.avatar_url;localStorage.setItem("avatar",n)})).catch((function(e){console.log(e)}))})).catch((function(e){a(S(e))}))}}(t,a))}}}))(k),_=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.props.history.push("/")}},{key:"componentDidUpdate",value:function(){this.props.isAuthenticated&&this.props.history.push("/")}},{key:"handleSubmit",value:function(e){var t=e.target.username.value,a=e.target.email.value,n=e.target.password1.value,o=e.target.password2.value;this.props.onAuth(t,a,n,o),e.preventDefault()}},{key:"render",value:function(){var e=null;return this.props.error&&(e=o.a.createElement("p",null,this.props.error.message)),o.a.createElement("div",null,e,this.props.loading?o.a.createElement("div",null,"LOADING"):o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{className:"input",type:"text",name:"username",placeholder:"username"})," ",o.a.createElement("br",null),o.a.createElement("input",{className:"input",type:"text",name:"email",placeholder:"email"})," ",o.a.createElement("br",null),o.a.createElement("input",{className:"input",type:"password",name:"password1",placeholder:"password"})," ",o.a.createElement("br",null),o.a.createElement("input",{className:"input",type:"password",name:"password2",placeholder:"confirm password"})," ",o.a.createElement("br",null),o.a.createElement("input",{className:"button",type:"submit",value:"Signup"})))}}]),a}(n.Component),w=Object(m.b)((function(e){return{loading:e.loading,error:e.error,isAuthenticated:null!==e.token}}),(function(e){return{onAuth:function(t,a,n,o){return e(function(e,t,a,n){return function(o){o({type:"AUTH_START"}),b.a.post("/rest-auth/registration/",{username:e,email:t,password1:a,password2:n}).then((function(t){var a=t.data.key,n=new Date((new Date).getTime()+36e5);localStorage.setItem("token",a),localStorage.setItem("username",e),localStorage.setItem("expirationDate",n),o(v(a,e)),b.a.get("api/contact/").then((function(t){var a=t.data.filter((function(t){return t.user.username===e}))[0],n=b.a.defaults.baseURL+"/media/"+a.avatar_url;localStorage.setItem("avatar",n)})).catch((function(e){console.log(e)}))})).catch((function(e){o(S(e))}))}}(t,a,n,o))}}}))(_),A=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",left:"0",top:"60px",overflow:"hidden"}},o.a.createElement("div",{style:{position:"absolute",width:"100%",height:"130%",left:"0",top:"60px",margin:"-160px 0 0 0",background:"url('https://sourceoneevents.com/wp-content/uploads/2018/07/las-vegas-wallpapers-high-definition-On-High-Resolution-Wallpaper.jpg') center center",backgroundSize:"auto 90%",backgroundRepeat:"no-repeat"}}),o.a.createElement("div",{style:{position:"relative",fontSize:"30px",width:"85%",height:"65%",left:"7.5%",top:"130px",backgroundColor:"#f2f2f2"}},this.props.isAuthenticated?o.a.createElement("div",{style:{padding:"50px"}},"Click on the room to the right to connect."):o.a.createElement("div",{style:{padding:"50px"}},"Welcome to ",o.a.createElement("span",{className:"logo"},"Wegman's Cardroom"),"! ",o.a.createElement(u.b,{to:"/signup/"},"Create an account")," to get started.")))}}]),a}(n.Component),O={position:"absolute",height:"40%",width:"33%",top:"92%",left:"66.5%"},C={position:"absolute",height:"25%",width:"33.3%",bottom:"0%",fontSize:"1.05vw"},j={position:"absolute",height:"25%",width:"33.3%",bottom:"0%",fontSize:"1.05vw"},x={position:"absolute",height:"25%",width:"33.3%",bottom:"0%",left:"33.3%",fontSize:"1.05vw"},I={position:"absolute",height:"100%",width:"33.3%",left:"66.6%",fontSize:"1.05vw"},D={position:"absolute",height:"25%",width:"60%",left:"20%",top:"50%"},N={position:"absolute",height:"25%",width:"100%",bottom:"0%",left:"0%",fontSize:"1.05vw"},M={position:"absolute",height:"25%",width:"100%",top:"25%"},T={position:"absolute",width:"20%",height:"25%",left:"80%",top:"50%"},H={position:"absolute",width:"20%",height:"25%",top:"50%",left:"0%"},B={position:"absolute",width:"33.3%",height:"25%",top:"0%",left:"0%"},U={position:"absolute",width:"33.3%",height:"25%",top:"0%",left:"33.3%"},F={position:"absolute",width:"33.3%",height:"25%",top:"0%",left:"66.7%"},R=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={betAmount:0,minimumBet:0,maxBet:0},e.fold=function(t){e.props.makeAction("fold",e.props.username,t.chips,t.chips_in_pot)},e.check=function(t){e.props.makeAction("check",e.props.username,t.chips,t.chips_in_pot)},e.call=function(t){e.props.makeAction("call",e.props.username,t.chips,t.chips_in_pot)},e.raise=function(t,a,n){return function(o){o.preventDefault();var r=parseFloat(o.target.chips.value);a>0&&r<2*a&&r+t.chips_in_pot<t.chips?alert("Invalid raise!"):r<n&&r+t.chips_in_pot<t.chips?alert("Invalid bet!"):e.props.makeAction("bet",e.props.username,t.chips,r)}},e.updateBet=function(t){e.setState({betAmount:t.target.value})},e.incrementBet=function(){e.state.betAmount<e.state.minimumBet?e.setState({betAmount:e.state.minimumBet}):e.state.betAmount>e.state.maxBet?e.setState({betAmount:e.state.maxBet}):e.state.betAmount+e.props.gameState.big_blind<=e.state.maxBet&&e.setState({betAmount:e.state.betAmount+e.props.gameState.big_blind})},e.decreaseBet=function(){e.state.betAmount<e.state.minimumBet?e.setState({betAmount:e.state.minimumBet}):e.state.betAmount>e.state.maxBet?e.setState({betAmount:e.state.maxBet}):e.state.betAmount-e.props.gameState.big_blind>=e.state.minimumBet&&e.setState({betAmount:e.state.betAmount-e.props.gameState.big_blind})},e.minBet=function(){e.state.minimumBet<=e.state.maxBet?e.setState({betAmount:e.state.minimumBet}):e.setState({betAmount:e.state.maxBet})},e.potBet=function(){var t;(t=e.props.gameState.current_bet>0?3*e.props.gameState.current_bet+(e.props.gameState.pot-e.props.gameState.current_bet)-e.props.gameState.players[e.props.username].chips_in_pot:e.props.gameState.pot)<=e.state.maxBet?e.setState({betAmount:t}):e.setState({betAmount:e.state.maxBet})},e.maxBet=function(){e.setState({betAmount:e.state.maxBet})},e}return Object(l.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){null!==e.username&&void 0!==e.gameState&&void 0!==e.gameState.players[e.username]&&(void 0===this.props.gameState||e.gameState.time===this.props.gameState.time&&0!==this.state.betAmount||(0===e.gameState.current_bet?this.setState({minimumBet:e.gameState.big_blind,betAmount:e.gameState.big_blind,maxBet:e.gameState.players[this.props.username].chips+e.gameState.players[this.props.username].chips_in_pot}):this.setState({minimumBet:2*e.gameState.current_bet,betAmount:2*e.gameState.current_bet,maxBet:e.gameState.players[e.username].chips+e.gameState.players[e.username].chips_in_pot})))}},{key:"render",value:function(){var e=this;if(void 0===this.props.gameState)return null;if(void 0===this.props.username||void 0===this.props.gameState.players[this.props.username])return null;var t,a,n,r=this.props.gameState.players[this.props.username];return t=this.props.gameState.current_bet<r.chips+r.chips_in_pot?"Call":"All in",this.state.minimumBet<this.state.maxBet?(a="Raise",n={}):(a="All in",n={display:"none"}),void 0!==r&&r.spotlight?o.a.createElement("div",{style:O},r.chips_in_pot===this.props.gameState.current_bet?o.a.createElement("button",{style:j,className:"button",onClick:function(){return e.check(r)}},"Check"):o.a.createElement("div",null,o.a.createElement("button",{style:C,className:"button",onClick:function(){return e.fold(r)}},"Fold"),o.a.createElement("button",{style:x,className:"button",onClick:function(){return e.call(r)}},t,o.a.createElement("br",null),Math.min(this.props.gameState.current_bet-r.chips_in_pot,r.chips+r.chips_in_pot))),this.props.gameState.current_bet<r.chips+r.chips_in_pot?o.a.createElement("form",{style:I,onSubmit:this.raise(r,this.props.gameState.current_bet,this.props.gameState.big_blind)},o.a.createElement("div",{style:n},o.a.createElement("input",{style:B,className:"button",type:"button",onClick:this.minBet,value:"Min"}),o.a.createElement("input",{style:U,className:"button",type:"button",onClick:this.potBet,value:"Pot"}),o.a.createElement("input",{style:F,className:"button",type:"button",onClick:this.maxBet,value:"Max"}),o.a.createElement("input",{style:M,className:"input",type:"text",name:"chips",placeholder:"Amount",value:this.state.betAmount,onChange:this.updateBet}),o.a.createElement("input",{style:H,className:"button",type:"button",onClick:this.decreaseBet,value:"-"}),o.a.createElement("input",{style:D,className:"button",type:"range",min:this.state.minimumBet,max:this.state.maxBet,value:this.state.betAmount,onChange:this.updateBet,step:this.props.gameState.big_blind}),o.a.createElement("input",{style:T,className:"button",type:"button",onClick:this.incrementBet,value:"+"})),0===this.props.gameState.current_bet?o.a.createElement("button",{style:N,className:"button",type:"submit"},"Bet",o.a.createElement("br",null),this.state.betAmount):o.a.createElement("button",{style:N,className:"button",type:"submit"},a,o.a.createElement("br",null),this.state.betAmount)):null):null}}]),a}(n.Component),z=a(2),L=a(474),P=a(476),J=a(111),K=a(13),W=a(146),Q=a.n(W);var $=function(e){if(void 0===e.gameState)return null;var t=Object.keys(e.gameState.players).filter((function(t){return e.gameState.players[t].seat_id===e.seatId}))[0];if(t){var a=e.gameState.players[t],n=a.chips_in_pot,r=n;0===r&&(r=null);var s=parseInt(n/5);n%=5;var i=parseInt(n/1);n%=1;var l=parseInt(n/.25)}return o.a.createElement("div",null,a?a.dealer?o.a.createElement("div",{style:{position:"absolute",left:"110%"},className:"pokerchip flat dealer"},"Dealer"):void 0:null,function(){for(var e=[],t=0,a=0;a<s;a++)e.push(o.a.createElement("div",{key:a,style:{position:"absolute",top:t.toString()+"vw",left:"0vw"},className:"pokerchip iso red"})),t-=.55;return o.a.createElement("div",{style:{position:"absolute"}},e.map((function(e){return e})))}(),function(){for(var e=[],t=0,a=0;a<i;a++)e.push(o.a.createElement("div",{key:a,style:{position:"absolute",top:t.toString()+"vw",left:"2.5vw"},className:"pokerchip iso blue"})),t-=.55;return o.a.createElement("div",{style:{position:"absolute"}},e.map((function(e){return e})))}(),function(){for(var e=[],t=0,a=0;a<l;a++)e.push(o.a.createElement("div",{key:a,style:{position:"absolute",top:t.toString()+"vw",left:"5vw"},className:"pokerchip iso"})),t-=.55;return o.a.createElement("div",{style:{position:"absolute"}},e.map((function(e){return e})))}(),o.a.createElement("div",{style:{position:"absolute",bottom:"0%",marginLeft:"auto",marginRight:"auto",left:"0",right:"0",textAlign:"center",fontSize:"1.2vw"}},void 0!==r&&null!==r&&0!==r?o.a.createElement("span",null,"$",r):null))};var G=function(e){if(void 0===e.gameState)return null;for(var t=0,a=0,n=Object.keys(e.gameState.players);a<n.length;a++){var r=n[a];void 0!==e.gameState.players[r].chips_in_pot&&(t+=e.gameState.players[r].chips_in_pot)}var s=e.gameState.pot-t,i=s;0!==i&&0!==e.gameState.pot||(i=null);var l=parseInt(s/5);s%=5;var c=parseInt(s/1);s%=1;var p=parseInt(s/.25);return o.a.createElement("div",null,function(){for(var e=[],t=10,a=0;a<l;a++)e.push(o.a.createElement("div",{style:{position:"absolute",top:t.toString()+"vw",left:"8.85vw"},className:"pokerchip iso red"})),t-=.55;return o.a.createElement("div",{style:{position:"absolute"}},e.map((function(e){return e})))}(),function(){for(var e=[],t=10,a=0;a<c;a++)e.push(o.a.createElement("div",{style:{position:"absolute",top:t.toString()+"vw",left:"11.85vw"},className:"pokerchip iso blue"})),t-=.55;return o.a.createElement("div",{style:{position:"absolute"}},e.map((function(e){return e})))}(),function(){for(var e=[],t=10,a=0;a<p;a++)e.push(o.a.createElement("div",{style:{position:"absolute",top:t.toString()+"vw",left:"14.85vw"},className:"pokerchip iso"})),t-=.55;return o.a.createElement("div",{style:{position:"absolute"}},e.map((function(e){return e})))}(),o.a.createElement("div",{style:{position:"absolute",bottom:"-3%",left:"0%",width:"100%",height:"15%"}},o.a.createElement("div",{style:{position:"relative",textAlign:"centered"}},void 0!==i&&null!==i&&0!==i?o.a.createElement("span",null,"$",i):null)))},X={position:"absolute",backgroundColor:"#cc6600",backgroundImage:"linear-gradient(to right, #cc6600, #ffad33, #cc6600)",margin:"4.5% 3.5% 3% 3.5%",borderRadius:"50%",border:"solid .1vw black",top:"0",left:"0",bottom:"0",right:"0"},V={position:"absolute",backgroundColor:"green",backgroundImage:"linear-gradient(to bottom, green, #99ff99, green)",boxShadow:"inset 0px 1px 50px #888",margin:"5% 5% 5% 5%",borderRadius:"50%",border:"solid .06vw black",top:"0",left:"0",bottom:"0",right:"0"},Y={position:"absolute",width:"13%",height:"40%"},q={backgroundColor:"lightGrey",textAlign:"center",position:"absolute",fontSize:"1.1vw",width:"100%",bottom:"0%"},Z={position:"absolute",height:"6.8vw",width:"4.7vw",top:"15%"},ee={position:"absolute",height:"4.7vw",width:"3.8vw",overflow:"hidden"},te={position:"absolute",height:"10%",width:"8%"},ae={position:"absolute",left:"35%",top:"35%",width:"30%",height:"35%"},ne={position:"absolute",top:"19%",width:"100%",textAlign:"center",fontSize:"3vw",color:"#0f3e3e"},oe=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={displayLastAction:!0},e.onFinish=function(t){if(void 0!==t.chips&&t.chips>=40*e.props.gameState.big_blind){var a=e.props.gameState.players[e.props.username].seat_id;e.props.sitPlayer(e.props.username,a,t.chips,localStorage.getItem("avatar"))}else alert("Must buy in with at least 40 big blinds")},e.cancel=function(){e.props.makeSitAction("stand_up",e.props.username)},e.onFinishFailed=function(e){console.log("Failed:",e)},e}return Object(l.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(void 0!==this.props.gameState&&e.gameState.time!==this.props.gameState.time&&(setTimeout((function(){return t.setState({displayLastAction:!1})}),2e3),this.setState({displayLastAction:!0}),e.gameState.players[this.props.username]&&e.gameState.players[this.props.username].spotlight))new Audio(Q.a)}},{key:"render",value:function(){var e=this,t=function(e,t){if(t)return 0===t.length?o.a.createElement("div",null):1===t.length?o.a.createElement(K.Card,{suit:t[0].suit,face:t[0].rank,style:{height:"70px",width:"45px"}}):e?o.a.createElement("div",{style:{position:"absolute",top:"52%",width:"100%",height:"48%"}},o.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"}},o.a.createElement(K.Card,{suit:t[0].suit,face:t[0].rank,style:Object(z.a)({},ee,{right:"49.5%"})}),o.a.createElement(K.Card,{suit:t[1].suit,face:t[1].rank,style:Object(z.a)({},ee,{left:"50.5%"})}))):o.a.createElement("div",{style:{position:"absolute",top:"52%",width:"100%",height:"48%"}},o.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"}},o.a.createElement(K.Card,{suit:"",face:"",style:Object(z.a)({},ee,{right:"49.5%"})}),o.a.createElement(K.Card,{suit:"",face:"",style:Object(z.a)({},ee,{left:"50.5%"})})))},a=function(a){if(void 0!==e.props.gameState){var n=void 0;for(var r in e.props.gameState.players)e.props.gameState.players[r].seat_id===a&&(n=e.props.gameState.players[r]);if(void 0===n)return null;var s,i=n.hole_cards;if(s=n.sitting_out?".6":"1",e.props.gameState.draw_for_dealer)return o.a.createElement("div",null,o.a.createElement("img",{style:{position:"absolute",width:"100%",height:"80%",opacity:s},src:n.avatar,alt:""}),t(!0,i));var l,c=n.hole_cards;return l=!(n.username!==e.props.username&&!e.props.gameState.show_hands),o.a.createElement("div",null,void 0!==n.avatar?o.a.createElement("img",{style:{position:"absolute",width:"100%",height:"78%",left:"0%",opacity:s},src:n.avatar,alt:""}):null,t(l,c))}},n=function(t){if(void 0!==e.props.gameState){var a,n=void 0,r=e.props.gameState.players[e.props.username];for(var s in e.props.gameState.players)e.props.gameState.players[s].seat_id===t&&(n=e.props.gameState.players[s]);if(void 0===n)return void 0!==r?null:o.a.createElement("div",{style:{position:"absolute",top:"45%",width:"100%",fontSize:"1.2vw",color:"black"}},o.a.createElement("button",{className:"button",onClick:function(){return e.props.reserveSeat(t)}},"Click to sit"));if(!0===n.reserved)return n.username===e.props.username?o.a.createElement("div",null,o.a.createElement(L.a,{onFinish:e.onFinish,onFinishFailed:e.onFinishFailed},o.a.createElement(L.a.Item,{name:"chips"},o.a.createElement(P.a,{style:{textAlign:"centered"},placeholder:"Add chips"})),o.a.createElement(L.a.Item,null,o.a.createElement(J.a,{type:"primary",htmlType:"submit"},"Submit"),o.a.createElement(J.a,{htmlType:"button",onClick:e.cancel},"Cancel")))):o.a.createElement("div",null,"Reserved for ",n.username);if(void 0!==n)return q=n.spotlight?Object(z.a)({},q,{background:"linear-gradient(to bottom, #f2f2f2 5%, #a6a6a6 100%)",color:"black"}):Object(z.a)({},q,{background:"linear-gradient(to bottom, #8c8c8c 5%, #404040 100%)",color:"white",animation:"none"}),!n.reserved&&n.sitting_out?o.a.createElement("div",null,o.a.createElement("div",{className:"player-bar",style:q},n.username," ",o.a.createElement("br",null),n.chips," ",o.a.createElement("br",null)),o.a.createElement("div",{style:{position:"absolute",fontSize:".8vw",width:"100%",top:"100%"}},"Sitting out")):n.reserved?o.a.createElement("div",{style:q},"Reserved ",o.a.createElement("br",null),o.a.createElement("br",null)):(a=n.username===e.props.gameState.last_action_username&&e.state.displayLastAction?e.props.gameState.last_action:n.username,o.a.createElement("div",{className:"player-bar",style:q},a," ",o.a.createElement("br",null),n.in_hand&&0===n.chips?o.a.createElement("span",null,"All in ",o.a.createElement("br",null)):o.a.createElement("span",null,"$",n.chips," ",o.a.createElement("br",null))))}};return o.a.createElement("div",null,o.a.createElement("div",{style:X}),o.a.createElement("div",{style:V}),o.a.createElement("div",{style:Object(z.a)({},Y,{top:"-17%",left:"30%"})},a(8),n(8)),o.a.createElement("div",{style:Object(z.a)({},te,{top:"24%",left:"32.5%"})},o.a.createElement($,{gameState:this.props.gameState,seatId:8})),o.a.createElement("div",{style:Object(z.a)({},Y,{top:"-5%",left:"2%"})},a(7),n(7)),o.a.createElement("div",{style:Object(z.a)({},te,{top:"36%",left:"11%"})},o.a.createElement($,{gameState:this.props.gameState,seatId:7})),o.a.createElement("div",{style:Object(z.a)({},Y,{top:"49%",left:"0%"})},a(6),n(6)),o.a.createElement("div",{style:Object(z.a)({},te,{top:"58%",left:"14%"})},o.a.createElement($,{gameState:this.props.gameState,seatId:6})),o.a.createElement("div",{style:Object(z.a)({},Y,{top:"80%",left:"19%"})},a(5),n(5)),o.a.createElement("div",{style:Object(z.a)({},te,{top:"70%",left:"29%"})},o.a.createElement($,{gameState:this.props.gameState,seatId:5})),o.a.createElement("div",{style:Object(z.a)({},Y,{top:"88%",left:"43.55%"})},a(4),n(4)),o.a.createElement("div",{style:Object(z.a)({},te,{top:"77%",left:"46.1%"})},o.a.createElement($,{gameState:this.props.gameState,seatId:4})),o.a.createElement("div",{style:Object(z.a)({},Y,{top:"80%",left:"68%"})},a(3),n(3)),o.a.createElement("div",{style:Object(z.a)({},te,{top:"70%",left:"64%"})},o.a.createElement($,{gameState:this.props.gameState,seatId:3})),o.a.createElement("div",{style:Object(z.a)({},Y,{top:"49%",left:"87%"})},a(2),n(2)),o.a.createElement("div",{style:Object(z.a)({},te,{top:"58%",left:"78%"})},o.a.createElement($,{gameState:this.props.gameState,seatId:2})),o.a.createElement("div",{style:Object(z.a)({},Y,{top:"-5%",left:"85%"})},a(1),n(1)),o.a.createElement("div",{style:Object(z.a)({},te,{top:"36%",left:"82%"})},o.a.createElement($,{gameState:this.props.gameState,seatId:1})),o.a.createElement("div",{style:Object(z.a)({},Y,{left:"60%",top:"-17%"})},a(0),n(0)),o.a.createElement("div",{style:Object(z.a)({},te,{top:"24%",left:"62.5%"})},o.a.createElement($,{gameState:this.props.gameState,seatId:0})),o.a.createElement("div",{style:ae},o.a.createElement("div",{className:"logo",style:ne},"Wegman's Cardroom"),function(){if(void 0!==e.props.gameState){var t=e.props.gameState.community_cards;return 0===t.length?o.a.createElement("div",null,o.a.createElement("div",{style:{position:"absolute",width:"100%",height:"15%"}},o.a.createElement("div",{style:{position:"relative",textAlign:"centered"}},"Pot: $",e.props.gameState.pot))):3===t.length?o.a.createElement("div",null,o.a.createElement("div",{style:{position:"absolute",width:"100%",height:"15%"}},o.a.createElement("div",{style:{position:"relative",textAlign:"centered"}},"Pot: $",e.props.gameState.pot)),o.a.createElement(K.Card,{suit:t[0].suit,face:t[0].rank,style:Object(z.a)({},Z,{left:"0%"})}),o.a.createElement(K.Card,{suit:t[1].suit,face:t[1].rank,style:Object(z.a)({},Z,{left:"20%"})}),o.a.createElement(K.Card,{suit:t[2].suit,face:t[2].rank,style:Object(z.a)({},Z,{left:"40%"})})):4===t.length?o.a.createElement("div",null,o.a.createElement("div",{style:{position:"absolute",width:"100%",height:"15%"}},o.a.createElement("div",{style:{position:"relative",textAlign:"centered"}},"Pot: $",e.props.gameState.pot)),o.a.createElement(K.Card,{suit:t[0].suit,face:t[0].rank,style:Object(z.a)({},Z,{left:"0%"})}),o.a.createElement(K.Card,{suit:t[1].suit,face:t[1].rank,style:Object(z.a)({},Z,{left:"20%"})}),o.a.createElement(K.Card,{suit:t[2].suit,face:t[2].rank,style:Object(z.a)({},Z,{left:"40%"})}),o.a.createElement(K.Card,{suit:t[3].suit,face:t[3].rank,style:Object(z.a)({},Z,{left:"60%"})})):5===t.length?o.a.createElement("div",null,o.a.createElement("div",{style:{position:"absolute",width:"100%",height:"15%"}},o.a.createElement("div",{style:{position:"relative",textAlign:"centered"}},"Pot: $",e.props.gameState.pot)),o.a.createElement(K.Card,{suit:t[0].suit,face:t[0].rank,style:Object(z.a)({},Z,{left:"0%"})}),o.a.createElement(K.Card,{suit:t[1].suit,face:t[1].rank,style:Object(z.a)({},Z,{left:"20%"})}),o.a.createElement(K.Card,{suit:t[2].suit,face:t[2].rank,style:Object(z.a)({},Z,{left:"40%"})}),o.a.createElement(K.Card,{suit:t[3].suit,face:t[3].rank,style:Object(z.a)({},Z,{left:"60%"})}),o.a.createElement(K.Card,{suit:t[4].suit,face:t[4].rank,style:Object(z.a)({},Z,{left:"80%"})})):void 0}}(),o.a.createElement(G,{gameState:this.props.gameState})))}}]),a}(n.Component),re={position:"absolute",height:"29%",width:"27%",top:"103%",left:"0%"},se={position:"absolute",width:"33.3%",height:"33.3%",bottom:"0%",left:"0%",fontSize:"1.05vw"},ie={position:"absolute",width:"33.3%",height:"33.3%",bottom:"0%",left:"0%",fontSize:"1.05vw"},le={position:"absolute",width:"33.3%",height:"33.3%",bottom:"0%",left:"33.3%",fontSize:"1.05vw"},ce={position:"absolute",width:"33.3%",height:"33.3%",bottom:"0%",left:"66.7%",fontSize:"1.05vw"},pe={position:"absolute",width:"33.3%",height:"66.7%",left:"66.7%",fontSize:"1.05vw"},ue={position:"absolute",width:"100%",height:"50%"},me={position:"absolute",width:"50%",height:"50%",left:"50%",top:"50%"},de={position:"absolute",width:"50%",height:"50%",left:"0%",top:"50%"},he=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e.sitIn=function(e,t){e("sit_in",t)},e.sitOut=function(e,t){e("sit_out",t)},e.standUp=function(e,t){e("stand_up",t)},e.addChips=function(t,a){return function(n){n.preventDefault();var o=n.target.chips.value;o>0&&void 0!==parseFloat(o)?(t("add_chips",a,o),e.setState({renderAddChipsForm:!1})):alert("Invalid amount!")}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({renderAddChipsForm:!1})}},{key:"render",value:function(){var e=this;if(void 0===this.props.gameState||void 0===this.props.username)return null;var t=function(){return e.state.renderAddChipsForm?o.a.createElement("form",{style:pe,onSubmit:e.addChips(e.props.addChips,e.props.username)},o.a.createElement("input",{style:ue,className:"input",type:"text",name:"chips",placeholder:"Amount"}),o.a.createElement("input",{style:me,className:"button",type:"submit",value:"Confirm"}),o.a.createElement("input",{style:de,className:"button",type:"button",onClick:function(){return e.setState({renderAddChipsForm:!1})},value:"Cancel"})):null};return o.a.createElement("div",{style:re},function(){var a,n,r,s=e.props.gameState.players[e.props.username];return void 0===s||s.reserved?null:(a=s.sit_in_after_hand?"black":"whiteSmoke",n=s.sit_out_after_hand?"black":"whiteSmoke",r=s.stand_up_after_hand?"black":"whiteSmoke",s.sitting_out?o.a.createElement("div",null,o.a.createElement("button",{style:Object(z.a)({},ie,{color:a}),className:"button",onClick:function(){return e.sitIn(e.props.makeSitAction,e.props.username)}},"Sit in"),o.a.createElement("button",{style:Object(z.a)({},le,{color:r}),className:"button",onClick:function(){return e.standUp(e.props.makeSitAction,e.props.username)}},"Stand up"),o.a.createElement("button",{style:Object(z.a)({},ce,{color:"whiteSmoke"}),className:"button",onClick:function(){return e.setState({renderAddChipsForm:!0})}},"Add chips"),t()):o.a.createElement("div",null,o.a.createElement("button",{style:Object(z.a)({},se,{color:n}),className:"button",onClick:function(){return e.sitOut(e.props.makeSitAction,e.props.username)}},"Sit out"),o.a.createElement("button",{style:Object(z.a)({},le,{color:r}),className:"button",onClick:function(){return e.standUp(e.props.makeSitAction,e.props.username)}},"Stand up"),o.a.createElement("button",{style:Object(z.a)({},ce,{color:"whiteSmoke"}),className:"button",onClick:function(){return e.setState({renderAddChipsForm:!0})}},"Add chips"),t()))}())}}]),a}(n.Component),ge=a(460),fe=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e.updateState=function(t){e.setState({gameState:t.state})},e.reserveSeat=function(t){e.props.pokerSocket.reserveSeat(e.props.username,t)},e.seatReserved=function(e){console.log("seat reserved",e.seatId)},e.sitPlayer=function(t,a,n,o){e.props.pokerSocket.sitPlayer(t,a,n,o)},e.makeAction=function(t,a,n,o){e.props.pokerSocket.makeAction(t,a,n,o)},e.addChips=function(t,a,n){e.props.pokerSocket.addChips(t,a,n)},e.makeSitAction=function(t,a){e.props.pokerSocket.makeSitAction(t,a)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.authCheckState(),null!==this.props.username?this.props.pokerSocket.addCallbacks(this.updateState,this.seatReserved):this.props.history.push("/")}},{key:"componentDidUpdate",value:function(){this.props.authCheckState(),null!==this.props.username?this.props.pokerSocket.addCallbacks(this.updateState,this.seatReserved):this.props.history.push("/")}},{key:"render",value:function(){var e={background:"url(".concat(ge,") center center fixed"),backgroundRepeat:"space",backgroundSize:"100px",opacity:"30%"};return o.a.createElement("div",null,o.a.createElement("div",{style:{position:"absolute",width:"100%",height:"120%",left:"0",top:"0",backgroundImage:"linear-gradient(to top, teal, #9ae5e5, teal)"}}),o.a.createElement("div",{className:"room-background",style:e}),o.a.createElement("div",{style:{backgroundColor:"#800000",backgroundImage:"linear-gradient(to top, #800000, #ff6666, #800000)",boxShadow:"inset 0px 1px 50px #888",border:".1vw solid",borderImage:"linear-gradient(to bottom, #258e8e 5%, #000066 100%) 25",position:"relative",width:"100%",paddingTop:"45%"}},o.a.createElement("div",{style:{position:"absolute",top:"0",left:"0",bottom:"0",right:"0",textAlign:"center",fontSize:"1.3vw",color:"white"}},o.a.createElement(oe,{gameState:this.state.gameState,username:this.props.username,sitPlayer:this.sitPlayer,reserveSeat:this.reserveSeat,makeSitAction:this.makeSitAction})),o.a.createElement(R,{gameState:this.state.gameState,username:this.props.username,makeAction:this.makeAction}),o.a.createElement(he,{gameState:this.state.gameState,username:this.props.username,addChips:this.addChips,makeSitAction:this.makeSitAction})))}}]),a}(n.Component),be=a(78),ve=a(164),Se=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={myAvatarId:null,myAvatarUrl:null,avatars:null},e.handleSubmit=function(t){t.preventDefault();var a=e.state.myAvatarId,n=e.state.myAvatarUrl;a?(localStorage.setItem("avatar",n),b.a.get("/rest-auth/user/",{headers:{Authorization:"Token ".concat(e.props.token)}}).then((function(t){var n=t.data.pk;b.a.patch("/api/contact/".concat(n,"/"),{avatar:a},{headers:{Authorization:"Token ".concat(e.props.token)}}).then((function(t){e.props.history.push("/")})).catch((function(e){console.log(e)}))})).catch((function(e){return console.log(e)}))):alert("You must pick one!")},e.handleChange=function(t){e.setState({myAvatarUrl:e.state[t],myAvatarId:t})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(){null!==this.props.username||this.props.history.push("/")}},{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/avatar/").then((function(t){var a=t.data;e.setState({avatars:a});var n,o=Object(ve.a)(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;e.setState(Object(be.a)({},r.id,r.image))}}catch(s){o.e(s)}finally{o.f()}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return this.state.avatars?o.a.createElement("div",null,o.a.createElement("div",{style:{position:"absolute",width:"50%"}},this.state.avatars.map((function(t){return o.a.createElement("label",{key:t.id},o.a.createElement("input",{type:"radio",name:"test",value:e.state[t.id],onChange:function(){return e.handleChange(t.id)}}),o.a.createElement("img",{src:t.image,alt:"alt",style:{width:"300px",height:"300px"}}))}))),null!==this.state.myAvatarUrl?o.a.createElement("form",{style:{position:"absolute",left:"60%"},onSubmit:this.handleSubmit},o.a.createElement("img",{style:{width:"100px",height:"100px"},name:"myAvatar",src:this.state.myAvatarUrl,alt:""}),o.a.createElement("input",{className:"button",type:"submit",value:"Confirm"})):null):null}}]),a}(n.Component),ye=function(e){return o.a.createElement("div",null,o.a.createElement(h.a,{exact:!0,path:"/",render:function(t){return o.a.createElement(A,Object.assign({},e,t))}}),o.a.createElement(h.a,{exact:!0,path:"/login/",component:E}),o.a.createElement(h.a,{exact:!0,path:"/signup/",component:w}),o.a.createElement(h.a,{exact:!0,path:"/room/",render:function(t){return o.a.createElement(fe,Object.assign({},e,t))}}),o.a.createElement(h.a,{exact:!0,path:"/choose-avatar/",render:function(t){return o.a.createElement(Se,Object.assign({},e,t))}}))},ke=a(60),Ee=(a(461),function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e.renderMessages=function(t){console.log("inside renderMessages");var a=t.messages,n=e.props.username;if(void 0!==a)for(var o=0;o<a.length;o++)n===a[o].author?Object(ke.addUserMessage)(a[o].content):Object(ke.addResponseMessage)(a[o].content)},e.sendMessageHandler=function(t){console.log(localStorage.getItem("avatar"));var a={from:e.props.username,content:t};console.log(a),e.props.chatSocket.newMessage(a)},e.addResponseMessageHandler=function(t){var a=JSON.parse(t.message);console.log(a),a.author!==e.props.username&&Object(ke.addResponseMessage)(a.author+": "+a.content)},e.handleNewUserMessage=function(t){console.log("New message incoming! ".concat(t)),e.sendMessageHandler(t)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.chatSocket.addCallbacks(this.renderMessages,this.addResponseMessageHandler)}},{key:"componentDidUpdate",value:function(){this.props.chatSocket.addCallbacks(this.renderMessages,this.addResponseMessageHandler),Object(ke.dropMessages)()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(ke.Widget,{handleNewUserMessage:this.handleNewUserMessage,titleAvatar:localStorage.getItem("avatar"),title:this.props.username,subtitle:""}))}}]),a}(n.Component)),_e=a(475);var we=function(e){return o.a.createElement(_e.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"]},o.a.createElement(_e.a.Item,{key:"1"},o.a.createElement(u.b,{to:"/"},"Home")),e.isAuthenticated?o.a.createElement(_e.a.Item,{key:"2"},o.a.createElement(u.b,{to:"/choose-avatar/"},"Change Avatar")):null,e.isAuthenticated?o.a.createElement(_e.a.Item,{key:"3",onClick:function(){e.logout(),e.disconnectFromSocket()}},"Logout"):o.a.createElement(_e.a.Item,{key:"3"},o.a.createElement(u.b,{to:"/login/"},"Login")))},Ae=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).rerouteToRoom=function(e){n.props.initializeSocket(e),n.props.history.push("/room/")},n.state={},n.grabFromAPI=n.grabFromAPI.bind(Object(g.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.grabFromAPI()}},{key:"grabFromAPI",value:function(){var e=this;this.props.token&&b.a.get("/api/room/",{headers:{Authorization:"Token ".concat(this.props.token)}}).then((function(t){e.setState({rooms:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=" ";return void 0!==this.state.rooms&&(t=this.state.rooms.map((function(t){return o.a.createElement(_e.a.Item,{key:t.id,onClick:function(){return e.rerouteToRoom(t.name)}},t.name)}))),o.a.createElement(_e.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},t)}}]),a}(n.Component),Oe=Object(h.e)(Ae),Ce=window.location.host,je=function e(t){var a=this;Object(i.a)(this,e),this.onOpen=function(e){console.log("open",e),a.fetchMessages()},this.onError=function(e){console.log("error",e)},this.onMessage=function(e){console.log("message",e);var t=JSON.parse(e.data);a.types[t.type](t)},this.onClose=function(e){console.log("close",e)},this.returnReadyState=function(){return a.socket_ref.readyState},this.addCallbacks=function(e,t){a.callbacks={renderMessages:e,addResponseMessageHandler:t},a.addTypes()},this.addTypes=function(){a.types={old_messages:a.callbacks.renderMessages,new_message:a.callbacks.addResponseMessageHandler}},this.newMessage=function(e){var t={command:"new_message",author:e.from,content:e.content};a.sendMessage(t)},this.fetchMessages=function(){var e={command:"fetch_messages",room_name:a.room_name};a.sendMessage(e)},this.sendMessage=function(e){a.socket_ref.send(JSON.stringify(e))},this.disconnect=function(){a.sendMessage({command:"disconnect"})},this.room_name=t;var n="ws://"+Ce+"/ws/chat/"+this.room_name+"/";this.socket_ref=new WebSocket(n),this.socket_ref.onopen=this.onOpen.bind(this),this.socket_ref.onerror=this.onError.bind(this),this.socket_ref.onmessage=this.onMessage.bind(this),this.socket_ref.onclose=this.onClose.bind(this)},xe=function e(t){var a=this;Object(i.a)(this,e),this.onOpen=function(e){console.log("open",e)},this.onError=function(e){console.log("error",e)},this.onMessage=function(e){console.log("message",e);var t=JSON.parse(e.data);a.types[t.type](t)},this.onClose=function(e){console.log("close",e)},this.returnReadyState=function(){return a.socket_ref.readyState},this.addCallbacks=function(e,t){a.callbacks={updateState:e,seatReserved:t},a.addTypes()},this.addTypes=function(){a.types={state:a.callbacks.updateState,seatReserved:a.callbacks.seatReserved}},this.fetchState=function(){console.log("fetch_state");var e={command:"fetch_state",room_name:a.room_name};a.sendMessage(e)},this.reserveSeat=function(e,t){var n={command:"reserve",username:e,seatId:t};a.sendMessage(n)},this.sitPlayer=function(e,t,n,o){var r={command:"sit",username:e,seatId:t,chips:n,avatar:o};a.sendMessage(r)},this.makeAction=function(e,t,n,o){var r={command:e,username:t,chips:n,chipsInPot:o};a.sendMessage(r)},this.addChips=function(e,t,n){var o={command:e,username:t,chips:n};a.sendMessage(o)},this.makeSitAction=function(e,t){var n={command:e,username:t};a.sendMessage(n)},this.sendMessage=function(e){a.socket_ref.send(JSON.stringify(e))},this.disconnect=function(){a.sendMessage({command:"disconnect"})},this.room_name=t;var n="ws://"+Ce+"/ws/poker/"+this.room_name+"/";this.socket_ref=new WebSocket(n),this.socket_ref.onopen=this.onOpen.bind(this),this.socket_ref.onerror=this.onError.bind(this),this.socket_ref.onmessage=this.onMessage.bind(this),this.socket_ref.onclose=this.onClose.bind(this)},Ie=(a(470),a(471),d.a.Header),De=d.a.Content,Ne=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e.initializeSocket=function(t){e.disconnectFromSocket();var a=new je(t),n=new xe(t);e.setState({chatSocket:a,pokerSocket:n,renderChat:!0})},e.disconnectFromSocket=function(){null!==e.state.chatSocket&&e.state.pokerSocket&&(e.state.chatSocket.disconnect(),e.state.pokerSocket.disconnect()),e.setState({chatSocket:null,pokerSocket:null,renderChat:!1})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log("inside componentDidMount (App.js)"),this.props.authCheckState(),this.setState({chatSocket:null,pokerSocket:null,renderChat:!1})}},{key:"componentDidUpdate",value:function(){this.props.authCheckState(),console.log("inside componentDidUpdate (App.js)")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(u.a,null,o.a.createElement(d.a,{className:"layout"},o.a.createElement(Ie,{style:{zIndex:"1"}},o.a.createElement(we,Object.assign({},this.props,{initializeSocket:this.initializeSocket,disconnectFromSocket:this.disconnectFromSocket}))),o.a.createElement(d.a,null,this.props.isAuthenticated?o.a.createElement("div",{style:{position:"absolute",right:"0px",zIndex:"1"}},o.a.createElement(Oe,Object.assign({},this.props,{initializeSocket:this.initializeSocket}))):o.a.createElement("div",null),o.a.createElement(De,{style:{}},o.a.createElement("div",{className:"site-layout-content"},o.a.createElement(ye,Object.assign({},this.props,{pokerSocket:this.state.pokerSocket})))))),this.state.renderChat?o.a.createElement(Ee,Object.assign({},this.props,{chatSocket:this.state.chatSocket,pokerSocket:this.state.pokerSocket})):o.a.createElement("div",null)))}}]),a}(n.Component),Me=Object(m.b)((function(e){return{token:e.token,isAuthenticated:null!==e.token,username:e.username}}),(function(e){return{authCheckState:function(){return e((function(e){var t=localStorage.getItem("token"),a=localStorage.getItem("username");if(void 0===t)e(y());else if(new Date(localStorage.getItem("expirationDate"))<=new Date)e(y());else{var n=new Date((new Date).getTime()+36e5);e(v(t,a)),localStorage.setItem("expirationDate",n)}}))},logout:function(){return e(y())}}}))(Ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Te=a(58),He=a(163),Be=function(e,t){return Object(z.a)({},e,{},t)},Ue={const:null,error:null,loading:!1,token:null,username:null},Fe=function(e,t){return Be(e,{error:null,loading:!0})},Re=function(e,t){return Be(e,{error:null,loading:!1,token:t.token,username:t.username})},ze=function(e,t){return Be(e,{error:t.error,loading:!1})},Le=function(e,t){return Be(e,{token:null,username:null})},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Fe(e);case"AUTH_SUCCESS":return Re(e,t);case"AUTH_FAIL":return ze(e,t);case"AUTH_LOGOUT":return Le(e);default:return e}};b.a.defaults.baseURL="";var Je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Te.c,Ke=Object(Te.d)(Pe,Je(Object(Te.a)(He.a))),We=o.a.createElement(m.a,{store:Ke},o.a.createElement(Me,null));s.a.render(We,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[166,1,2]]]);
//# sourceMappingURL=main.8b2426d8.chunk.js.map